<!-- templates/article_detail.html -->
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}
<div class="container">
    <div class="col-8 mx-auto">
        <h3 class="pb-4 mb-4 fst-italic border-bottom">Article detail</h3>
        <div class="article-entry">
            <h2>{{object.title}}</h2>
            <p class="text-black-50 fst-italic">by {{object.author}} | {{object.date}}</p>
            <p>{{object.body}}</p>
        </div>
        <p>
            <button class="btn btn-primary">
                <a class="text-decoration-none text-white" href="{% url 'article_edit' article.pk %}">edit</a>
            </button>
            <button class="btn btn-primary">
                <a class="text-decoration-none text-white" href="{% url 'article_delete' article.pk %}">delete</a>
            </button>
        </p>
        <br/>
        <hr/>
        <h5>Comments</h5>
        {% for comment in article.comment_set.all %}
        <p>{{ comment.author }} &#8211; {{ comment }}</p>
        {% endfor %}
        <br/>
        <hr/>
        <h5>Add a comment</h5>
        <form action="" method="post"> {% csrf_token %}
            {{ form|crispy }}
            <button class="btn btn-primary" type="submit">Save</button>
        </form>
        <br/>
        <p>Back to <a href="{% url 'article_list' %}">all articles</a></p>
    </div>
</div>
{% endblock content%}